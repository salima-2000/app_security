<!DOCTYPE html>
<html lang="fr" xmlns:th=http://www.thymeleaf.org>

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gestion des clients</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet" />
    <link href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/buttons/1.2.4/css/buttons.dataTables.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/select/1.3.0/css/select.dataTables.min.css" rel="stylesheet" />
    <link href="https://unpkg.com/@coreui/coreui@2.1.16/dist/css/coreui.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.5/css/select2.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.5.1/min/dropzone.min.css" rel="stylesheet" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdn.datatables.net/1.10.25/css/dataTables.bootstrap5.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/buttons/1.7.1/css/buttons.dataTables.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css" rel="stylesheet" />

    <style>
    .table{
	max-width:80%;
	margin-left:auto;
	margin-right:auto;
}
table{
border-left: solid grey 1px;
border-right: solid grey 1px;
}
.formulaire{
    max-width:50%;
	margin-left:auto;
	margin-right:auto;
}
h2{
    max-width:50%;
	margin-left:auto;
	margin-right:auto;
}
.search__input {
  width: 60%;
  height: 45px;
  background-color: #E5E5E5;
  font-size: 15px;
  color: #575756;
  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='28' height='28' viewBox='0 0 24 24'%3E%3Cpath d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-size: 18px 18px;
  background-position: 95% center;
  border-radius: 50px;
  border: 0px;
  outline: 0;
}


.search__container{
	margin-left:30%;
	
}

    </style>
     

</head>




<body>
   <div class="formulaire">
   <h2>Gestion des clients</h2>
   <br/>
   <br/>
   
    <div class="search__container">
    <form th:action="@{/clients/chercher}">
     <input  style="padding-left:30px" class="search__input" type="number" name="recherche" placeholder="Rechercher client par son id">
     <button type="submit" > rechercher</button>
    </form>
    
     </div>
 <form method="post" th:action="@{/clients/nouveau}">
  <div class="row mb-3">
    <label for="inputId" class="col-sm-2 col-form-label">Id</label>
    <div class="col-sm-10">
      <input th:value="${clientAffiche.getId}" name="id" type="text" class="form-control" id="inputId" >
    </div>
  </div>
  <div class="row mb-3">
    <label for="inputNom" class="col-sm-2 col-form-label" >Nom</label>
    <div class="col-sm-10">
      <input  th:value="${clientAffiche.getNom}" name="nom" type="text" class="form-control" id="inputNom">
    </div>
  </div>
   <div class="row mb-3">
    <label for="inputPrenom" class="col-sm-2 col-form-label" >Prénom</label>
    <div class="col-sm-10">
      <input th:value="${clientAffiche.getPrenom}" name="prenom" type="text" class="form-control" id="inputPrenom">
    </div>
  </div>
   <div class="row mb-3">
    <label for="inputAge" class="col-sm-2 col-form-label" >Age</label>
    <div class="col-sm-10">
      <input th:value="${clientAffiche.getAge}" type="number"  name="age" class="form-control" id="inputAge">
    </div>
  </div>
  <button type="submit" class="btn btn-primary">Ajouter</button>
  </form>
  <form method="post" th:action="@{/clients/modifier}">
   <input type="hidden" name="id" th:value="${clientAffiche.getId}" />
   <input type="hidden" name="nom" th:value="${clientAffiche.getNom}" />
   <input type="hidden" name="prenom" th:value="${clientAffiche.getPrenom}" />
   <input type="hidden" name="age" th:value="${clientAffiche.getAge}" />
  <button type="submit" class="btn btn-secondary">Modifier</button>
  </form>
  
  <form method="post" th:action="@{/clients/delete}">
   <input type="hidden" name="id" th:value="${clientAffiche.getId}" />
  <button type="submit" class="btn btn-danger">Supprimer</button>
  </form>
  

    </div>
  
   <div class="table">
   <table id="example" class="display" style="width:100%">
        <thead>
            <tr>
                <th>Id</th>
                <th>Nom</th>
                <th>Prénom</th>
                <th>Age</th>
                <th>Action</th>
               
            </tr>
        </thead>
        <tbody>
      
            <tr th:each="client:${clients}">
                <td th:text="${client.getId}">1</td>
                <td th:text="${client.getNom}">Zariouh</td>
                <td th:text="${client.getPrenom}">Salima</td>
                <td th:text="${client.getAge}">21</td>
                <td>
                <form th:action="@{/clients}" method="post" >
                <input type="hidden" name="id" th:value="${client.getId}" />
                <button class="btn btn-secondary " type="submit" aria-expanded="false">Afficher
                </button>
                </form></td>
               
            </tr>
           
            </table>
           </div>

     
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://unpkg.com/@coreui/coreui@2.1.16/dist/js/coreui.min.js"></script>
    <script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>


    <script src="jquery-3.5.1.min.js"></script>

    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script> -->
<script>
$(document).ready(function() {
    $('#example').DataTable(
        { 
          "language": {
                "sEmptyTable":     "Aucune donnée disponible dans le tableau",
                "sInfo":           "Affichage de l'élément _START_ à _END_ sur _TOTAL_ éléments",
                "sInfoEmpty":      "Affichage de l'élément 0 à 0 sur 0 élément",
                "sInfoFiltered":   "(filtré à partir de _MAX_ éléments au total)",
                "sInfoPostFix":    "",
                "sInfoThousands":  ",",
                "sLengthMenu":     "Afficher _MENU_ éléments",
                "sLoadingRecords": "Chargement...",
                "sProcessing":     "Traitement...",
                "sSearch":         "Rechercher :",
                "sZeroRecords":    "Aucun élément correspondant trouvé",
                "oPaginate": {
                    "sFirst":    "Premier",
                    "sLast":     "Dernier",
                    "sNext":     "Suivant",
                    "sPrevious": "Précédent"
                },
                "oAria": {
                    "sSortAscending":  ": activer pour trier la colonne par ordre croissant",
                    "sSortDescending": ": activer pour trier la colonne par ordre décroissant"
                },
                "select": {
                    "rows": {
                        "_": "%d lignes sélectionnées",
                        "0": "Aucune ligne sélectionnée",
                        "1": "1 ligne sélectionnée"
                    }
                }
            },
            searching:false
        }
    );
} );

</script>
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.25/js/dataTables.bootstrap5.min.js"></script>

 
</body>

</html>